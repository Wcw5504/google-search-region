<% const { showFlags, userRegions } = config; %>

<!-- Menu Dropdown Toggle -->
<div class="hdtb-mn-hd gsr-menu-toggle <%- currentRegion ? 'hdtb-sel' : '' %>" role="button">
  <div class="mn-hd-txt">
    <% if (currentRegion) { %>
      <% let { name, country } = currentRegion; %>
      <% if (country && showFlags) { %> <span class="flag flag-<%- country %>"></span> <% } %>
      <%- name %>
    <% } else { %>
      Regions
    <% } %>
  </div>
  <span class="mn-dwn-arw"></span>
</div>

<!-- Menu Dropdown -->
<ul class="hdtbU hdtb-mn-c gsr-menu-dropdown">
  <!-- User Regions List -->
  <% userRegions.map(getRegionByID).forEach(region => { %>
    <% if (!region) { return; } %>
    <% let { id, name, country } = region; %>
    <% let isCurrent = currentRegion && currentRegion.id === id; %>
    <% let url = getSearchURL(region); %>
    <li class="hdtbItm <%- isCurrent ? 'hdtbSel' : '' %>">
      <a class="q qs" href="<%- url %>">
        <% if (country && showFlags) { %> <span class="flag flag-<%- country %>"></span> <% } %>
        <%- name %>
      </a>
    </li>
  <% }); %>

  <!-- Configuration Modal Toggle -->
  <li class="hdtbItm">
    <div class="cdr_sep"></div>
    <a class="q qs gsr-menu-config" data-gsr-onclick="showModal" title="Google Search Region">...</a>
  </li>
</ul>
